<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <style type="text/css">
      #root{
        width: 280px; 
        margin: 40px auto; 
        padding: 10px;
      }
    </style>
  </head>
  <body>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
    <button id="openLock">Login</button>
    <button id="signInGoogle">SignIn with Google</button>
    <button id="usernameAndPasswordLogin">Username and password authentication</button>

    <script src="https://cdn.auth0.com/js/lock/10.12.1/lock.min.js"></script>
    <script src="https://cdn.auth0.com/w2/auth0-7.6.1.min.js"></script>
    <script type="text/javascript">
      (function(){

          var env = JSON.parse('<%- env %>');
          
          var auth0 = new Auth0({
            domain: env.AUTH0_DOMAIN,
            clientID:env.AUTH0_CLIENT_ID,
            callbackURL:env.AUTH0_CALLBACK_URL
          });

          var signInGoogle = function(){
            auth0.signin({
              connection:'google-oauth2'              
            })
          };


          var userNameAndPasswordLogin = function(){
            auth0.signin({
              connection:'Username-Password-Authentication',
              username:"gkjha009@gmail.com",
              password:"gk155@009"
            })
          };


          var createLock = function(){
              var lock = new Auth0Lock(env.AUTH0_CLIENT_ID, env.AUTH0_DOMAIN, { auth: {
                    redirectUrl: env.AUTH0_CALLBACK_URL, 
                    responseType: 'code', 
                    params: {
                      scope: 'openid email user_metadata app_metadata profile'
                    }
                  }
              });

              lock.show();
          };



          document.querySelector("#openLock").addEventListener("click", createLock, false);
          document.querySelector("#usernameAndPasswordLogin").addEventListener("click", userNameAndPasswordLogin, false);
          document.querySelector("#signInGoogle").addEventListener("click", signInGoogle, false );

      }());
    </script>
  </body>
</html>
